<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Sreejaaaaaa! üéâ</title>
    
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Configure Tailwind for Inter font and custom colors -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary-lavender': '#9370DB',
                        'secondary-peach': '#FFCBA4',
                        'accent-mint': '#C2F0C2',
                        'soft-pink': '#FFD1DC',
                        'deep-violet': '#6A0DAD',
                    }
                }
            }
        }
    </script>
    <style>
        /* Base styling for the document - SCROLL FIX APPLIED HERE */
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f7ecfd 0%, #e0f2f1 100%); 
            min-height: 100vh; /* Ensure body takes at least full viewport height */
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 1rem;
            /* CRITICAL FIX: Removed 'overflow: hidden;' to allow scrolling on mobile */ 
            position: relative;
            cursor: none; 
            /* Added padding-bottom to ensure button doesn't hug the bottom edge on scroll */
            padding-bottom: 5rem; 
        }
        
        /* Styling for the main card container */
        #card {
            max-width: 450px;
            width: 100%;
            background-color: white;
            padding: 2.5rem;
            border-radius: 25px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.25);
            text-align: center;
            transition: transform 0.3s ease-in-out;
            z-index: 10; 
            position: relative; 
            /* Removed min-height so it collapses nicely on smaller screens */
            min-height: auto; 
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
        }

        #card:hover {
            transform: translateY(-8px);
        }

        /* Container for the main content */
        #main-card-content {
            transition: opacity 0.5s ease-in-out;
            opacity: 1;
            pointer-events: auto;
            position: relative;
        }

        /* Class to hide content using opacity */
        #main-card-content.fade-out {
            opacity: 0;
            pointer-events: none;
            visibility: hidden; 
        }

        /* Large, tappable emoji display */
        #emoji-display {
            font-size: 5.5rem;
            margin: 1.5rem 0;
            transition: transform 0.2s, filter 0.3s;
            display: inline-block;
            filter: drop-shadow(0 5px 10px rgba(0,0,0,0.1));
        }

        /* --- Confetti Burst Animation (on click/reveal) --- */
        .confetti {
            position: absolute;
            font-size: 1.5rem;
            opacity: 1;
            transform: translate(0, 0) rotate(0deg);
            animation: explode 2s forwards ease-out;
            pointer-events: none; 
            z-index: 20;
        }

        @keyframes explode {
            0% { opacity: 1; transform: translate(0, 0) rotate(0deg) scale(1); }
            100% { opacity: 0; transform: translate(var(--x), var(--y)) rotate(var(--r)) scale(0.5); }
        }

        /* --- Continuous Floating Background Animation --- */
        .floating-emoji {
            position: absolute;
            bottom: -50px; 
            font-size: 2.5rem; 
            opacity: 0.6; 
            pointer-events: none;
            animation: float-up var(--duration) linear infinite;
            z-index: 1; 
            filter: drop-shadow(0 3px 6px rgba(0,0,0,0.1));
        }

        @keyframes float-up {
            0% { transform: translateY(0) scale(0.8); opacity: 0; }
            50% { opacity: 0.9; transform: translateY(calc(-50vh)) scale(1); }
            100% { transform: translateY(calc(-100vh - 100px)) scale(0.8); opacity: 0; }
        }

        /* --- Cursor Sparkle Effect --- */
        .sparkle {
            position: absolute;
            background-color: gold; 
            border-radius: 50%;
            animation: fade-out-sparkle 0.8s forwards ease-out;
            pointer-events: none;
            width: var(--size);
            height: var(--size);
            opacity: 1;
            z-index: 100;
            box-shadow: 0 0 5px gold, 0 0 10px yellow;
        }

        @keyframes fade-out-sparkle {
            0% { transform: scale(0); opacity: 0.8; }
            50% { transform: scale(1); opacity: 1; }
            100% { transform: scale(0.5); opacity: 0; }
        }

        /* --- Gift Box Styling --- */
        #gift-box {
            margin-top: 1.5rem; 
            width: 80px;
            height: 80px;
            font-size: 4rem;
            cursor: pointer;
            transition: transform 0.1s ease-in-out;
            z-index: 15;
            filter: drop-shadow(0 5px 10px rgba(0,0,0,0.2));
            display: none; /* Controlled by JS after first tap */
            margin-left: auto;
            margin-right: auto;
        }

        #gift-box.shake {
            animation: shake-gift 0.3s ease-in-out;
        }

        @keyframes shake-gift {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-5deg); }
            75% { transform: rotate(5deg); }
        }
        
        /* Gift Box Content (The Cat Reveal) */
        #gift-box-content {
            text-align: center;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            pointer-events: none;
            /* This absolute positioning is relative to #card */
            position: absolute; 
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2.5rem;
            box-sizing: border-box;
        }

        #cat-emoji {
            font-size: 8rem; 
            filter: drop-shadow(0 5px 10px rgba(0,0,0,0.1));
            line-height: 1;
        }
        #cat-name {
            font-size: 2.5rem;
            font-weight: 900;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            margin-top: 1rem;
            line-height: 1;
            background: linear-gradient(45deg, #DEB887, #FFD700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        #cat-message {
            font-size: 1.2rem;
            color: #6A0DAD; 
            margin-top: 1.5rem;
            font-weight: 600;
        }
        #copy-button.disappear {
            opacity: 0;
            pointer-events: none;
            height: 0;
            margin: 0;
            padding: 0;
            transition: opacity 0.3s ease-out, height 0.3s ease-out, margin 0.3s ease-out, padding 0.3s ease-out;
        }

    </style>
</head>
<body>
    
    <div id="floating-container"></div>

    <div id="card">
        
        <div id="main-card-content">
            <h1 id="main-message" class="text-3xl sm:text-4xl font-extrabold text-primary-lavender mb-4">
                A Special Birthday Surprise!
            </h1>

            <p class="text-gray-600 mb-3 text-md font-medium">
                Even though miles separate us, our connection feels so close. Happy Birthday, my dear online twin!
            </p>

            <div 
                id="friend-name-display-static"
                class="w-full text-center p-2 border-2 border-soft-pink rounded-lg bg-soft-pink mb-4 text-lg font-extrabold text-deep-violet"
            >
                Sreejaaaaaa
            </div>

            <div 
                id="emoji-display" 
                onclick="triggerInteraction()" 
                class="cursor-pointer hover:scale-110 active:scale-95 transform transition-all duration-150"
                role="button"
                aria-label="Tap for a birthday surprise"
            >
                üéÅ
            </div>

            <button 
                id="action-button" 
                onclick="triggerInteraction()" 
                class="w-full mt-6 py-3 px-6 bg-deep-violet text-white font-bold rounded-full shadow-xl hover:bg-purple-800 active:bg-purple-900 transition transform hover:scale-105 text-xl"
            >
                Touch me twin‚ò∫Ô∏è
            </button>

            <p id="hidden-wish" class="mt-8 text-lg text-gray-700 leading-relaxed hidden">
                <span id="wish-title" class="text-primary-lavender font-extrabold text-2xl block mb-3">To my dearest Sreejaaaaaa,</span>
                Happy Birthday, twin! üéâ You're one of the most incredible people I've ever met, even if it was through a screen. Our journey has been amazing, and I cherish every moment. You truly light up my world. May your special day be filled with endless joy, laughter, and all the happiness you deserve. Thank you for being you, **Love you twin and the way you shine, keep going‚ù§Ô∏è‚Äçü©π‚úåüèªü•≥**
            </p>

            <div 
                id="gift-box" 
                onclick="handleGiftBoxClick()" 
                role="button" 
                aria-label="Tap three times to open the special gift"
            >
                üì¶
            </div>
        </div>

        <div id="gift-box-content">
            <div id="cat-emoji"></div>
            <div id="cat-name"></div>
            <p id="cat-message"></p>
            
            <button
                id="copy-button"
                onclick="copyCatMessage()"
                class="mt-6 py-2 px-4 bg-accent-mint text-deep-violet font-bold rounded-full shadow-lg hover:bg-green-400 active:bg-green-500 transition transform hover:scale-105"
            >
                Copy the Cat! üìã
            </button>
        </div>

        <div id="confetti-container"></div>
    </div>

    <script>
        // --- DOM Elements and Constants ---
        const card = document.getElementById('card');
        const emojiDisplay = document.getElementById('emoji-display');
        const actionButton = document.getElementById('action-button');
        const hiddenWish = document.getElementById('hidden-wish');
        const mainMessage = document.getElementById('main-message');
        const confettiContainer = document.getElementById('confetti-container');
        const floatingContainer = document.getElementById('floating-container');
        const giftBox = document.getElementById('gift-box');
        const giftBoxContent = document.getElementById('gift-box-content');
        const mainCardContent = document.getElementById('main-card-content');
        const catEmojiDiv = document.getElementById('cat-emoji');
        const catNameDiv = document.getElementById('cat-name');
        const catMessageDiv = document.getElementById('cat-message');
        const wishTitle = document.getElementById('wish-title');
        const copyButton = document.getElementById('copy-button');

        // State variables
        let revealed = false;
        let giftBoxClickCount = 0;
        const friendName = "Sreejaaaaaa";
        const catName = "Moon"; 
        const catMessageText = `take good care of him twin, he's my gift for youü•∫‚òùüèª‚ù§Ô∏è‚Äçü©π`;

        // Emojis for various effects
        const confettiEmojis = ['üéâ', 'üéÇ', 'ü•≥', 'üéà', 'üíñ', '‚ú®', 'üéÅ', 'üëë'];
        const floatingEmojis = ['üç¨', 'üç∞', 'üéÄ', '‚≠ê', '‚ú®', 'üíú']; 

        // Set the personalized name in the wish title on load
        wishTitle.textContent = `To my dearest ${friendName},`; 

        // --- Background Floating Emoji Logic ---
        function createFloatingEmoji() {
            const emoji = document.createElement('span');
            emoji.className = 'floating-emoji';
            emoji.textContent = floatingEmojis[Math.floor(Math.random() * floatingEmojis.length)];
            
            const leftPosition = Math.random() * 100;
            const duration = 15 + Math.random() * 10; 
            
            emoji.style.left = `${leftPosition}vw`;
            emoji.style.setProperty('--duration', `${duration}s`);

            floatingContainer.appendChild(emoji);

            setTimeout(() => {
                emoji.remove();
            }, duration * 1000);
        }

        function startFloatingBackground() {
            setInterval(createFloatingEmoji, 800); 
        }

        // --- Cursor Sparkle Effect Logic ---
        function createSparkle(x, y) {
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            sparkle.style.left = `${x}px`;
            sparkle.style.top = `${y}px`;
            const size = 5 + Math.random() * 8; 
            sparkle.style.setProperty('--size', `${size}px`);
            document.body.appendChild(sparkle);

            setTimeout(() => {
                sparkle.remove();
            }, 800);
        }

        document.addEventListener('mousemove', (e) => {
            if (Math.random() < 0.3) { 
                createSparkle(e.clientX, e.clientY);
            }
        });
        document.addEventListener('touchmove', (e) => {
            if (e.touches.length > 0 && Math.random() < 0.5) { 
                createSparkle(e.touches[0].clientX, e.touches[0].clientY);
            }
        });

        // --- Confetti Burst Animation ---
        function createConfettiBurst(targetElement = card) {
            const targetRect = targetElement.getBoundingClientRect();
            const centerX = targetRect.left + targetRect.width / 2;
            const centerY = targetRect.top + targetRect.height / 2;

            for (let i = 0; i < 35; i++) { 
                const emoji = document.createElement('span');
                emoji.className = 'confetti';
                emoji.textContent = confettiEmojis[Math.floor(Math.random() * confettiEmojis.length)];
                
                emoji.style.left = `${centerX + (Math.random() - 0.5) * 80}px`; 
                emoji.style.top = `${centerY + (Math.random() - 0.5) * 80}px`;

                const distance = 450 + Math.random() * 250; 
                const angle = Math.random() * 2 * Math.PI; 
                const destX = distance * Math.cos(angle);
                const destY = distance * Math.sin(angle);
                const rotation = Math.random() * 1440 - 720; 

                emoji.style.setProperty('--x', `${destX}px`);
                emoji.style.setProperty('--y', `${destY}px`);
                emoji.style.setProperty('--r', `${rotation}deg`);
                confettiContainer.appendChild(emoji);

                setTimeout(() => {
                    emoji.remove();
                    // Ensure cleanup of confetti elements
                }, 2000);
            }
        }

        // --- Main Interaction Logic (Present Box) ---
        function triggerInteraction() {
            if (revealed) {
                // Shake and burst when already revealed
                emojiDisplay.style.transform = 'scale(1.2) rotate(5deg)';
                setTimeout(() => {
                    emojiDisplay.style.transform = 'scale(1.0) rotate(0deg)';
                }, 150);
                createConfettiBurst(emojiDisplay); 
                return;
            }

            // FIRST INTERACTION
            createConfettiBurst(emojiDisplay);

            mainMessage.textContent = "HAPPY BIRTHDAY, TWIN!";
            mainMessage.classList.remove('text-primary-lavender');
            mainMessage.classList.add('text-deep-violet');
            
            emojiDisplay.textContent = 'ü•≥'; 
            actionButton.textContent = 'More celebration! üéâ';
            
            // This content appears and pushes the elements below it down
            hiddenWish.classList.remove('hidden');
            
            // SHOW THE GIFT BOX after the main message is revealed
            giftBox.style.display = 'block'; 

            revealed = true;
        }

        // --- Gift Box Interaction Logic ---
        function handleGiftBoxClick() {
            // Only proceed if the main message has been revealed
            if (!revealed) {
                return;
            }

            giftBoxClickCount++;
            
            if (giftBoxClickCount === 1 || giftBoxClickCount === 2) {
                // SHAKE
                giftBox.classList.add('shake');
                setTimeout(() => {
                    giftBox.classList.remove('shake');
                }, 300);
            } else if (giftBoxClickCount === 3) {
                // OPEN THE GIFT BOX!
                giftBox.style.display = 'none'; 

                // 1. Fade out the main content smoothly
                mainCardContent.classList.add('fade-out');

                // 2. Prepare and show the cat content
                catEmojiDiv.textContent = 'üêà'; 
                catNameDiv.textContent = catName; 
                catMessageDiv.textContent = catMessageText;

                // 3. Fade in the cat content
                giftBoxContent.style.opacity = '1';
                giftBoxContent.style.pointerEvents = 'auto';

                // 4. Burst confetti
                createConfettiBurst(card);
            }
        }

        // --- Copy to Clipboard Logic ---
        function copyCatMessage() {
            // The content to be copied: Cat emoji + Cat name + message
            const contentToCopy = `üêà ${catName}\n${catMessageText}`;

            // Use the recommended fallback method
            const tempInput = document.createElement('textarea');
            tempInput.value = contentToCopy;
            document.body.appendChild(tempInput);
            tempInput.select();
            document.execCommand('copy');
            document.body.removeChild(tempInput);


            // Update button text on success (no need for promise chain)
            copyButton.textContent = 'Copied! üéâ';
            copyButton.classList.remove('bg-accent-mint');
            copyButton.classList.add('bg-green-500', 'text-white');

            // Disappear the button after a short delay
            setTimeout(() => {
                copyButton.classList.add('disappear');
            }, 800);
        }

        // --- Initializations ---
        window.onload = startFloatingBackground;
        
    </script>
</body>
</html>
